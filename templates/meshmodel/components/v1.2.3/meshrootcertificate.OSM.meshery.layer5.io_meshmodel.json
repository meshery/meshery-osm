{"kind":"MeshRootCertificate","apiVersion":"config.openservicemesh.io/v1alpha2","display-name":"Mesh Root Certificate","format":"JSON","metadata":{},"model":{"name":"OPEN_SERVICE_MESH","version":"v1.2.3","model-display-name":"OPEN_SERVICE_MESH","category":{"name": "Cloud Native Network","metadata":null},"sub-category":"Service Mesh"},"schema":"{\n \"properties\": {\n  \"provider\": {\n   \"description\": \"Certificate provider used by the mesh control plane\",\n   \"oneOf\": [\n    {\n     \"required\": [\n      \"certManager\"\n     ]\n    },\n    {\n     \"required\": [\n      \"vault\"\n     ]\n    },\n    {\n     \"required\": [\n      \"tresor\"\n     ]\n    }\n   ],\n   \"properties\": {\n    \"certManager\": {\n     \"description\": \"Cert-manager provider configuration\",\n     \"properties\": {\n      \"issuerGroup\": {\n       \"description\": \"The group that the issuer belongs to\",\n       \"type\": \"string\"\n      },\n      \"issuerKind\": {\n       \"description\": \"The kind of issuer resource\",\n       \"enum\": [\n        \"ClusterIssuer\",\n        \"Issuer\"\n       ],\n       \"type\": \"string\"\n      },\n      \"issuerName\": {\n       \"description\": \"The name of the Issuer or ClusterIssuer resource\",\n       \"type\": \"string\"\n      }\n     },\n     \"required\": [\n      \"issuerName\",\n      \"issuerKind\",\n      \"issuerGroup\"\n     ],\n     \"type\": \"object\"\n    },\n    \"tresor\": {\n     \"description\": \"Tresor provider configuration\",\n     \"properties\": {\n      \"ca\": {\n       \"description\": \"The root certificate used by Tresor\",\n       \"properties\": {\n        \"secretRef\": {\n         \"description\": \"Reference to the kubernetes secret storing the root certificate\",\n         \"properties\": {\n          \"name\": {\n           \"description\": \"Name of the kubernetes secret\",\n           \"type\": \"string\"\n          },\n          \"namespace\": {\n           \"description\": \"Namespace of the kubernetes secret\",\n           \"type\": \"string\"\n          }\n         },\n         \"required\": [\n          \"name\",\n          \"namespace\"\n         ],\n         \"type\": \"object\"\n        }\n       },\n       \"required\": [\n        \"secretRef\"\n       ],\n       \"type\": \"object\"\n      }\n     },\n     \"required\": [\n      \"ca\"\n     ],\n     \"type\": \"object\"\n    },\n    \"vault\": {\n     \"description\": \"Vault provider configuration\",\n     \"properties\": {\n      \"host\": {\n       \"description\": \"Host name for the Vault server\",\n       \"type\": \"string\"\n      },\n      \"port\": {\n       \"description\": \"Port for the Vault server\",\n       \"maximum\": 65535,\n       \"minimum\": 1,\n       \"type\": \"integer\"\n      },\n      \"protocol\": {\n       \"description\": \"Protocol for the Vault connection\",\n       \"enum\": [\n        \"http\",\n        \"https\"\n       ],\n       \"type\": \"string\"\n      },\n      \"role\": {\n       \"description\": \"Role created on Vault server for the mesh control plane\",\n       \"type\": \"string\"\n      },\n      \"token\": {\n       \"description\": \"Token used by the mesh control plane\",\n       \"properties\": {\n        \"secretKeyRef\": {\n         \"description\": \"Reference to the kubernetes secret storing the vault token\",\n         \"properties\": {\n          \"key\": {\n           \"description\": \"Kubernetes secret key\",\n           \"type\": \"string\"\n          },\n          \"name\": {\n           \"description\": \"Name of the kubernetes secret\",\n           \"type\": \"string\"\n          },\n          \"namespace\": {\n           \"description\": \"Namespace of the kubernetes secret\",\n           \"type\": \"string\"\n          }\n         },\n         \"required\": [\n          \"name\",\n          \"key\",\n          \"namespace\"\n         ],\n         \"type\": \"object\"\n        }\n       },\n       \"required\": [\n        \"secretKeyRef\"\n       ],\n       \"type\": \"object\"\n      }\n     },\n     \"required\": [\n      \"host\",\n      \"port\",\n      \"role\",\n      \"protocol\",\n      \"token\"\n     ],\n     \"type\": \"object\"\n    }\n   },\n   \"type\": \"object\"\n  },\n  \"role\": {\n   \"description\": \"Role specifies the role of the MeshRootCertificate, can be active, passive\",\n   \"enum\": [\n    \"passive\",\n    \"active\",\n    \"inactive\"\n   ],\n   \"type\": \"string\"\n  },\n  \"spiffeEnabled\": {\n   \"default\": false,\n   \"description\": \"Adds a SPIFFE ID to the certificates, creating a SPIFFE compatible x509 SVID document\",\n   \"type\": \"boolean\"\n  },\n  \"trustDomain\": {\n   \"default\": \"cluster.local\",\n   \"description\": \"Trust Domain to use in common name for certificates, e.g. \\\"example.com\\\"\",\n   \"type\": \"string\"\n  }\n },\n \"required\": [\n  \"role\",\n  \"provider\"\n ],\n \"title\": \"Mesh Root Certificate\",\n \"type\": \"object\"\n}"}